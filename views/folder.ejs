<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Folders</title>
	</head>
	<body>
		<!-- Display error message if it exists -->
		<% if (messages.error) { %>
		<p class="error-message"><%= messages.error %></p>
		<% } %>

		<!-- Display success message if it exists -->
		<% if (messages.success) { %>
		<p class="success-message"><%= messages.success %></p>
		<% } %> <% if (files && files.length > 0) { %> <% files.forEach(element => {
		%>
		<form action="/folder/selection" method="GET">
			<input type="hidden" name="folderName" value="<%= element %>" />
			<button type="submit"><%= element %></button>
		</form>
		<% }) %>
		<form action="/folder/previous" method="GET">
			<button type="submit">Previous</button>
		</form>
		<% } else { %>
		<div>
			<p>There's nothing here...</p>
		</div>
		<form action="/folder/previous" method="GET">
			<button type="submit">Previous</button>
		</form>
		<% } %>

		<form action="/upload" method="POST" enctype="multipart/form-data">
			<label for="file">Choose a file:</label>
			<input type="file" id="file" name="file" required />
			<br /><br />
			<button type="submit">Upload</button>
		</form>

		<form action="/upload/create-dir" method="POST">
			<label for="dir">Create Directory</label>
			<input type="text" name="dir" id="dir" />
			<button type="submit">Create Folder</button>
		</form>
	</body>
</html>
